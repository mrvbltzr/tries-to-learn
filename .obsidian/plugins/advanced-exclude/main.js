/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  const OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "obsidian",
    "@codemirror/autocomplete",
    "@codemirror/collab",
    "@codemirror/commands",
    "@codemirror/language",
    "@codemirror/lint",
    "@codemirror/search",
    "@codemirror/state",
    "@codemirror/text",
    "@codemirror/view",
    "@lezer/common",
    "@lezer/lr",
    "@lezer/highlight"
  ];
  const DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "@codemirror/closebrackets",
    "@codemirror/comment",
    "@codemirror/fold",
    "@codemirror/gutter",
    "@codemirror/highlight",
    "@codemirror/history",
    "@codemirror/matchbrackets",
    "@codemirror/panel",
    "@codemirror/rangeset",
    "@codemirror/rectangular-selection",
    "@codemirror/stream-parser",
    "@codemirror/tooltip"
  ];
  function requirePatched(id) {
    if (OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id) || DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id)) {
      return originalRequire?.(id);
    }
    if (globalThis?.app?.isMobile) {
      if (id === "process" || id === "node:process") {
        console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Fake process object is returned instead.`);
        return globalThis.process;
      }
    } else {
      const module2 = originalRequire?.(id);
      if (module2) {
        return extractDefault(module2);
      }
    }
    console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var ii=Object.create;var Re=Object.defineProperty;var oi=Object.getOwnPropertyDescriptor;var si=Object.getOwnPropertyNames;var ai=Object.getPrototypeOf,li=Object.prototype.hasOwnProperty;var o=(n,e)=>Re(n,"name",{value:e,configurable:!0});var G=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),ci=(n,e)=>{for(var t in e)Re(n,t,{get:e[t],enumerable:!0})},Rn=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of si(e))!li.call(n,i)&&i!==t&&Re(n,i,{get:()=>e[i],enumerable:!(r=oi(e,i))||r.enumerable});return n};var qe=(n,e,t)=>(t=n!=null?ii(ai(n)):{},Rn(e||!n||!n.__esModule?Re(t,"default",{value:n,enumerable:!0}):t,n)),ui=n=>Rn(Re({},"__esModule",{value:!0}),n);var _n=G((Os,Nn)=>{var de=1e3,fe=de*60,pe=fe*60,oe=pe*24,fi=oe*7,pi=oe*365.25;Nn.exports=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return hi(n);if(t==="number"&&isFinite(n))return e.long?mi(n):gi(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function hi(n){if(n=String(n),!(n.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*pi;case"weeks":case"week":case"w":return t*fi;case"days":case"day":case"d":return t*oe;case"hours":case"hour":case"hrs":case"hr":case"h":return t*pe;case"minutes":case"minute":case"mins":case"min":case"m":return t*fe;case"seconds":case"second":case"secs":case"sec":case"s":return t*de;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}o(hi,"parse");function gi(n){var e=Math.abs(n);return e>=oe?Math.round(n/oe)+"d":e>=pe?Math.round(n/pe)+"h":e>=fe?Math.round(n/fe)+"m":e>=de?Math.round(n/de)+"s":n+"ms"}o(gi,"fmtShort");function mi(n){var e=Math.abs(n);return e>=oe?Xe(n,e,oe,"day"):e>=pe?Xe(n,e,pe,"hour"):e>=fe?Xe(n,e,fe,"minute"):e>=de?Xe(n,e,de,"second"):n+" ms"}o(mi,"fmtLong");function Xe(n,e,t,r){var i=e>=t*1.5;return Math.round(n/t)+" "+r+(i?"s":"")}o(Xe,"plural")});var jt=G((Rs,Mn)=>{function yi(n){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=i,t.enabled=l,t.humanize=_n(),t.destroy=u,Object.keys(n).forEach(f=>{t[f]=n[f]}),t.names=[],t.skips=[],t.formatters={};function e(f){let d=0;for(let h=0;h<f.length;h++)d=(d<<5)-d+f.charCodeAt(h),d|=0;return t.colors[Math.abs(d)%t.colors.length]}o(e,"selectColor"),t.selectColor=e;function t(f){let d,h=null,g,m;function v(...p){if(!v.enabled)return;let y=v,A=Number(new Date),C=A-(d||A);y.diff=C,y.prev=d,y.curr=A,d=A,p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let w=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(S,k)=>{if(S==="%%")return"%";w++;let j=t.formatters[k];if(typeof j=="function"){let I=p[w];S=j.call(y,I),p.splice(w,1),w--}return S}),t.formatArgs.call(y,p),(y.log||t.log).apply(y,p)}return o(v,"debug"),v.namespace=f,v.useColors=t.useColors(),v.color=t.selectColor(f),v.extend=r,v.destroy=t.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:o(()=>h!==null?h:(g!==t.namespaces&&(g=t.namespaces,m=t.enabled(f)),m),"get"),set:o(p=>{h=p},"set")}),typeof t.init=="function"&&t.init(v),v}o(t,"createDebug");function r(f,d){let h=t(this.namespace+(typeof d>"u"?":":d)+f);return h.log=this.log,h}o(r,"extend");function i(f){t.save(f),t.namespaces=f,t.names=[],t.skips=[];let d=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let h of d)h[0]==="-"?t.skips.push(h.slice(1)):t.names.push(h)}o(i,"enable");function s(f,d){let h=0,g=0,m=-1,v=0;for(;h<f.length;)if(g<d.length&&(d[g]===f[h]||d[g]==="*"))d[g]==="*"?(m=g,v=h,g++):(h++,g++);else if(m!==-1)g=m+1,v++,h=v;else return!1;for(;g<d.length&&d[g]==="*";)g++;return g===d.length}o(s,"matchesTemplate");function a(){let f=[...t.names,...t.skips.map(d=>"-"+d)].join(",");return t.enable(""),f}o(a,"disable");function l(f){for(let d of t.skips)if(s(f,d))return!1;for(let d of t.names)if(s(f,d))return!0;return!1}o(l,"enabled");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),t.enable(t.load()),t}o(yi,"setup");Mn.exports=yi});var $n=G((N,Ze)=>{N.formatArgs=Ai;N.save=vi;N.load=wi;N.useColors=bi;N.storage=Ci();N.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();N.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function bi(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(bi,"useColors");function Ai(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+Ze.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;n.splice(1,0,e,"color: inherit");let t=0,r=0;n[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(r=t))}),n.splice(r,0,e)}o(Ai,"formatArgs");N.log=console.debug||console.log||(()=>{});function vi(n){try{n?N.storage.setItem("debug",n):N.storage.removeItem("debug")}catch{}}o(vi,"save");function wi(){let n;try{n=N.storage.getItem("debug")||N.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}o(wi,"load");function Ci(){try{return localStorage}catch{}}o(Ci,"localstorage");Ze.exports=jt()(N);var{formatters:Ei}=Ze.exports;Ei.j=function(n){try{return JSON.stringify(n)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Vn=G((Ls,Bn)=>{"use strict";Bn.exports=(n,e=process.argv)=>{let t=n.startsWith("-")?"":n.length===1?"-":"--",r=e.indexOf(t+n),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}});var Un=G((Ns,jn)=>{"use strict";var Si=require("os"),Wn=require("tty"),$=Vn(),{env:T}=process,Qe;$("no-color")||$("no-colors")||$("color=false")||$("color=never")?Qe=0:($("color")||$("colors")||$("color=true")||$("color=always"))&&(Qe=1);function xi(){if("FORCE_COLOR"in T)return T.FORCE_COLOR==="true"?1:T.FORCE_COLOR==="false"?0:T.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(T.FORCE_COLOR,10),3)}o(xi,"envForceColor");function Ti(n){return n===0?!1:{level:n,hasBasic:!0,has256:n>=2,has16m:n>=3}}o(Ti,"translateLevel");function Fi(n,{streamIsTTY:e,sniffFlags:t=!0}={}){let r=xi();r!==void 0&&(Qe=r);let i=t?Qe:r;if(i===0)return 0;if(t){if($("color=16m")||$("color=full")||$("color=truecolor"))return 3;if($("color=256"))return 2}if(n&&!e&&i===void 0)return 0;let s=i||0;if(T.TERM==="dumb")return s;if(process.platform==="win32"){let a=Si.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in T)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(a=>a in T)||T.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in T)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(T.TEAMCITY_VERSION)?1:0;if(T.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in T){let a=Number.parseInt((T.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(T.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(T.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(T.TERM)||"COLORTERM"in T?1:s}o(Fi,"supportsColor");function Ut(n,e={}){let t=Fi(n,{streamIsTTY:n&&n.isTTY,...e});return Ti(t)}o(Ut,"getSupportLevel");jn.exports={supportsColor:Ut,stdout:Ut({isTTY:Wn.isatty(1)}),stderr:Ut({isTTY:Wn.isatty(2)})}});var Hn=G((F,tt)=>{var Pi=require("tty"),et=require("util");F.init=Ni;F.log=Ii;F.formatArgs=ki;F.save=Di;F.load=Li;F.useColors=Oi;F.destroy=et.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");F.colors=[6,2,3,4,5,1];try{let n=Un();n&&(n.stderr||n).level>=2&&(F.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}F.inspectOpts=Object.keys(process.env).filter(n=>/^debug_/i.test(n)).reduce((n,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),n[t]=r,n},{});function Oi(){return"colors"in F.inspectOpts?!!F.inspectOpts.colors:Pi.isatty(process.stderr.fd)}o(Oi,"useColors");function ki(n){let{namespace:e,useColors:t}=this;if(t){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${i};1m${e} \x1B[0m`;n[0]=s+n[0].split(`
`).join(`
`+s),n.push(i+"m+"+tt.exports.humanize(this.diff)+"\x1B[0m")}else n[0]=Ri()+e+" "+n[0]}o(ki,"formatArgs");function Ri(){return F.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(Ri,"getDate");function Ii(...n){return process.stderr.write(et.formatWithOptions(F.inspectOpts,...n)+`
`)}o(Ii,"log");function Di(n){n?process.env.DEBUG=n:delete process.env.DEBUG}o(Di,"save");function Li(){return process.env.DEBUG}o(Li,"load");function Ni(n){n.inspectOpts={};let e=Object.keys(F.inspectOpts);for(let t=0;t<e.length;t++)n.inspectOpts[e[t]]=F.inspectOpts[e[t]]}o(Ni,"init");tt.exports=jt()(F);var{formatters:Gn}=tt.exports;Gn.o=function(n){return this.inspectOpts.colors=this.useColors,et.inspect(n,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Gn.O=function(n){return this.inspectOpts.colors=this.useColors,et.inspect(n,this.inspectOpts)}});var zn=G(($s,Gt)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Gt.exports=$n():Gt.exports=Hn()});var lr=G((La,ar)=>{"use strict";function K(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}o(K,"assertPath");function sr(n,e){for(var t="",r=0,i=-1,s=0,a,l=0;l<=n.length;++l){if(l<n.length)a=n.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=l,s=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=l,s=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+="/"+n.slice(i+1,l):t=n.slice(i+1,l),r=l-i-1;i=l,s=0}else a===46&&s!==-1?++s:s=-1}return t}o(sr,"normalizeStringPosix");function uo(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}o(uo,"_format");var ve={resolve:o(function(){for(var e="",t=!1,r,i=arguments.length-1;i>=-1&&!t;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=process.cwd()),s=r),K(s),s.length!==0&&(e=s+"/"+e,t=s.charCodeAt(0)===47)}return e=sr(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:o(function(e){if(K(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=sr(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},"normalize"),isAbsolute:o(function(e){return K(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];K(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":ve.normalize(e)},"join"),relative:o(function(e,t){if(K(e),K(t),e===t||(e=ve.resolve(e),t=ve.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var l=t.length,c=l-a,u=s<c?s:c,f=-1,d=0;d<=u;++d){if(d===u){if(c>u){if(t.charCodeAt(a+d)===47)return t.slice(a+d+1);if(d===0)return t.slice(a+d)}else s>u&&(e.charCodeAt(r+d)===47?f=d:d===0&&(f=0));break}var h=e.charCodeAt(r+d),g=t.charCodeAt(a+d);if(h!==g)break;h===47&&(f=d)}var m="";for(d=r+f+1;d<=i;++d)(d===i||e.charCodeAt(d)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+t.slice(a+f):(a+=f,t.charCodeAt(a)===47&&++a,t.slice(a))},"relative"),_makeLong:o(function(e){return e},"_makeLong"),dirname:o(function(e){if(K(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,i=-1,s=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!s){i=a;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},"dirname"),basename:o(function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');K(e);var r=0,i=-1,s=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,c=-1;for(a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(u===47){if(!s){r=a+1;break}}else c===-1&&(s=!1,c=a+1),l>=0&&(u===t.charCodeAt(l)?--l===-1&&(i=a):(l=-1,i=c))}return r===i?i=c:i===-1&&(i=e.length),e.slice(r,i)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":e.slice(r,i)}},"basename"),extname:o(function(e){K(e);for(var t=-1,r=0,i=-1,s=!0,a=0,l=e.length-1;l>=0;--l){var c=e.charCodeAt(l);if(c===47){if(!s){r=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===46?t===-1?t=l:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||i===-1||a===0||a===1&&t===i-1&&t===r+1?"":e.slice(t,i)},"extname"),format:o(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return uo("/",e)},"format"),parse:o(function(e){K(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),i=r===47,s;i?(t.root="/",s=1):s=0;for(var a=-1,l=0,c=-1,u=!0,f=e.length-1,d=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!u){l=f+1;break}continue}c===-1&&(u=!1,c=f+1),r===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?c!==-1&&(l===0&&i?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(l,c)):(l===0&&i?(t.name=e.slice(1,a),t.base=e.slice(1,c)):(t.name=e.slice(l,a),t.base=e.slice(l,c)),t.ext=e.slice(a,c)),l>0?t.dir=e.slice(0,l-1):i&&(t.dir="/"),t},"parse"),sep:"/",delimiter:":",win32:null,posix:null};ve.posix=ve;ar.exports=ve});var _r=G((bt,Nr)=>{(function(n,e){typeof bt=="object"&&typeof Nr<"u"?e(bt):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.compareVersions={}))})(bt,(function(n){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,t=o(p=>{if(typeof p!="string")throw new TypeError("Invalid argument expected string");let y=p.match(e);if(!y)throw new Error(`Invalid argument not valid semver ('${p}' received)`);return y.shift(),y},"validateAndParse"),r=o(p=>p==="*"||p==="x"||p==="X","isWildcard"),i=o(p=>{let y=parseInt(p,10);return isNaN(y)?p:y},"tryParse"),s=o((p,y)=>typeof p!=typeof y?[String(p),String(y)]:[p,y],"forceType"),a=o((p,y)=>{if(r(p)||r(y))return 0;let[A,C]=s(i(p),i(y));return A>C?1:A<C?-1:0},"compareStrings"),l=o((p,y)=>{for(let A=0;A<Math.max(p.length,y.length);A++){let C=a(p[A]||"0",y[A]||"0");if(C!==0)return C}return 0},"compareSegments"),c=o((p,y)=>{let A=t(p),C=t(y),w=A.pop(),E=C.pop(),S=l(A,C);return S!==0?S:w&&E?l(w.split("."),E.split(".")):w||E?w?-1:1:0},"compareVersions"),u=o((p,y,A)=>{h(A);let C=c(p,y);return f[A].includes(C)},"compare"),f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},d=Object.keys(f),h=o(p=>{if(typeof p!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof p}`);if(d.indexOf(p)===-1)throw new Error(`Invalid operator, expected one of ${d.join("|")}`)},"assertValidOperator"),g=o((p,y)=>{if(y=y.replace(/([><=]+)\s+/g,"$1"),y.includes("||"))return y.split("||").some(x=>g(p,x));if(y.includes(" - ")){let[x,U]=y.split(" - ",2);return g(p,`>=${x} <=${U}`)}else if(y.includes(" "))return y.trim().replace(/\s{2,}/g," ").split(" ").every(x=>g(p,x));let A=y.match(/^([<>=~^]+)/),C=A?A[1]:"=";if(C!=="^"&&C!=="~")return u(p,y,C);let[w,E,S,,k]=t(p),[j,I,D,,Ye]=t(y),Pe=[w,E,S],R=[j,I??"x",D??"x"];if(Ye&&(!k||l(Pe,R)!==0||l(k.split("."),Ye.split("."))===-1))return!1;let L=R.findIndex(x=>x!=="0")+1,re=C==="~"?2:L>1?L:1;return!(l(Pe.slice(0,re),R.slice(0,re))!==0||l(Pe.slice(re),R.slice(re))===-1)},"satisfies"),m=o(p=>typeof p=="string"&&/^[v\d]/.test(p)&&e.test(p),"validate"),v=o(p=>typeof p=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(p),"validateStrict");n.compare=u,n.compareVersions=c,n.satisfies=g,n.validate=m,n.validateStrict=v}))});var Jr=G((gu,Et)=>{function Ur(n){return Array.isArray(n)?n:[n]}o(Ur,"makeArray");var Ho=void 0,An="",Wr=" ",bn="\\",zo=/^\s+$/,Ko=/(?:[^\\]|^)\\$/,Yo=/^\\!/,Jo=/^\\#/,qo=/\r?\n/g,Xo=/^\.{0,2}\/|^\.{1,2}$/,Zo=/\/$/,Se="/",Gr="node-ignore";typeof Symbol<"u"&&(Gr=Symbol.for("node-ignore"));var Hr=Gr,xe=o((n,e,t)=>(Object.defineProperty(n,e,{value:t}),t),"define"),Qo=/([0-z])-([0-z])/g,zr=o(()=>!1,"RETURN_FALSE"),es=o(n=>n.replace(Qo,(e,t,r)=>t.charCodeAt(0)<=r.charCodeAt(0)?e:An),"sanitizeRange"),ts=o(n=>{let{length:e}=n;return n.slice(0,e-e%2)},"cleanRangeBackSlash"),ns=[[/^\uFEFF/,()=>An],[/((?:\\\\)*?)(\\?\s+)$/,(n,e,t)=>e+(t.indexOf("\\")===0?Wr:An)],[/(\\+?)\s/g,(n,e)=>{let{length:t}=e;return e.slice(0,t-t%2)+Wr}],[/[\\$.|*+(){^]/g,n=>`\\${n}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,o(function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"},"startingReplacer")],[/\\\/\\\*\\\*(?=\\\/|$)/g,(n,e,t)=>e+6<t.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(n,e,t)=>{let r=t.replace(/\\\*/g,"[^\\/]*");return e+r}],[/\\\\\\(?=[$.|*+(){^])/g,()=>bn],[/\\\\/g,()=>bn],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(n,e,t,r,i)=>e===bn?`\\[${t}${ts(r)}${i}`:i==="]"&&r.length%2===0?`[${es(t)}${r}]`:"[]"],[/(?:[^*])$/,n=>/\/$/.test(n)?`${n}$`:`${n}(?=$|\\/$)`]],rs=/(^|\\\/)?\\\*$/,Ue="regex",wt="checkRegex",jr="_",is={[Ue](n,e){return`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`},[wt](n,e){return`${e?`${e}[^/]*`:"[^/]*"}(?=$|\\/$)`}},os=o(n=>ns.reduce((e,[t,r])=>e.replace(t,r.bind(n)),n),"makeRegexPrefix"),Ct=o(n=>typeof n=="string","isString"),ss=o(n=>n&&Ct(n)&&!zo.test(n)&&!Ko.test(n)&&n.indexOf("#")!==0,"checkPattern"),as=o(n=>n.split(qo).filter(Boolean),"splitPattern"),vn=class{static{o(this,"IgnoreRule")}constructor(e,t,r,i,s,a){this.pattern=e,this.mark=t,this.negative=s,xe(this,"body",r),xe(this,"ignoreCase",i),xe(this,"regexPrefix",a)}get regex(){let e=jr+Ue;return this[e]?this[e]:this._make(Ue,e)}get checkRegex(){let e=jr+wt;return this[e]?this[e]:this._make(wt,e)}_make(e,t){let r=this.regexPrefix.replace(rs,is[e]),i=this.ignoreCase?new RegExp(r,"i"):new RegExp(r);return xe(this,t,i)}},ls=o(({pattern:n,mark:e},t)=>{let r=!1,i=n;i.indexOf("!")===0&&(r=!0,i=i.substr(1)),i=i.replace(Yo,"!").replace(Jo,"#");let s=os(i);return new vn(n,e,i,t,r,s)},"createRule"),wn=class{static{o(this,"RuleManager")}constructor(e){this._ignoreCase=e,this._rules=[]}_add(e){if(e&&e[Hr]){this._rules=this._rules.concat(e._rules._rules),this._added=!0;return}if(Ct(e)&&(e={pattern:e}),ss(e.pattern)){let t=ls(e,this._ignoreCase);this._added=!0,this._rules.push(t)}}add(e){return this._added=!1,Ur(Ct(e)?as(e):e).forEach(this._add,this),this._added}test(e,t,r){let i=!1,s=!1,a;this._rules.forEach(c=>{let{negative:u}=c;s===u&&i!==s||u&&!i&&!s&&!t||!c[r].test(e)||(i=!u,s=u,a=u?Ho:c)});let l={ignored:i,unignored:s};return a&&(l.rule=a),l}},cs=o((n,e)=>{throw new e(n)},"throwError"),X=o((n,e,t)=>Ct(n)?n?X.isNotRelative(n)?t(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:t("path must not be empty",TypeError):t(`path must be a string, but got \`${e}\``,TypeError),"checkPath"),Kr=o(n=>Xo.test(n),"isNotRelative");X.isNotRelative=Kr;X.convert=n=>n;var Cn=class{static{o(this,"Ignore")}constructor({ignorecase:e=!0,ignoreCase:t=e,allowRelativePaths:r=!1}={}){xe(this,Hr,!0),this._rules=new wn(t),this._strictPathCheck=!r,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}add(e){return this._rules.add(e)&&this._initCache(),this}addPattern(e){return this.add(e)}_test(e,t,r,i){let s=e&&X.convert(e);return X(s,e,this._strictPathCheck?cs:zr),this._t(s,t,r,i)}checkIgnore(e){if(!Zo.test(e))return this.test(e);let t=e.split(Se).filter(Boolean);if(t.pop(),t.length){let r=this._t(t.join(Se)+Se,this._testCache,!0,t);if(r.ignored)return r}return this._rules.test(e,!1,wt)}_t(e,t,r,i){if(e in t)return t[e];if(i||(i=e.split(Se).filter(Boolean)),i.pop(),!i.length)return t[e]=this._rules.test(e,r,Ue);let s=this._t(i.join(Se)+Se,t,r,i);return t[e]=s.ignored?s:this._rules.test(e,r,Ue)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return Ur(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},En=o(n=>new Cn(n),"factory"),us=o(n=>X(n&&X.convert(n),n,zr),"isPathValid"),Yr=o(()=>{let n=o(t=>/^\\\\\?\\/.test(t)||/["<>|\u0000-\u001F]+/u.test(t)?t:t.replace(/\\/g,"/"),"makePosix");X.convert=n;let e=/^[a-z]:\//i;X.isNotRelative=t=>e.test(t)||Kr(t)},"setupWindows");typeof process<"u"&&process.platform==="win32"&&Yr();Et.exports=En;En.default=En;Et.exports.isPathValid=us;xe(Et.exports,Symbol.for("setupWindows"),Yr)});var vs={};ci(vs,{default:()=>As});module.exports=ui(vs);var ce=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Z(){}o(Z,"noop");async function H(){}o(H,"noopAsync");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var di=Number.POSITIVE_INFINITY;function Wt(...n){let e=n.filter(s=>!!s);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return ue();if(e.length===1&&e[0])return e[0];let t=new AbortController;for(let s of e)if(s.aborted)return s;let r=[];for(let s of e)r.push(Dn(s,i));return t.signal;function i(s){for(let a of r)a();t.abort(s.reason)}}o(Wt,"abortSignalAny");function ue(){return new AbortController().signal}o(ue,"abortSignalNever");function In(n){if(n===di)return ue();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(n);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(n)} milliseconds`))},n),e.signal}o(In,"abortSignalTimeout");function Dn(n,e){if(n.aborted)return e(n),Z;return n.addEventListener("abort",t,{once:!0}),()=>{n.removeEventListener("abort",t)};function t(r){e(r.target)}o(t,"wrappedCallback")}o(Dn,"onAbort");function Ln(n,e){return new Promise((t,r)=>{Dn(n,()=>{e?r(n.reason):t(n.reason)})})}o(Ln,"waitForAbort");var Xt=qe(zn(),1);o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ht(n,e){let t=n.length,r=0;for(let i=0;i<t;i++){if(!Object.hasOwn(n,i))continue;let s=n[i];e(s,i,n)&&(n[r++]=s)}n.length=r}o(Ht,"filterInPlace");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var z=class{static{o(this,"AsyncEvents")}eventRefsMap=new Map;off(e,t){let r=this.eventRefsMap.get(e);r&&(Ht(r,i=>i.callback!==t),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let t=this.eventRefsMap.get(e.name);t&&(Ht(t,r=>r!==e),t.length===0&&this.eventRefsMap.delete(e.name))}on(e,t,r){let i=this.eventRefsMap.get(e);i||(i=[],this.eventRefsMap.set(e,i));let s={asyncEvents:this,callback:t,name:e,thisArg:r};return i.push(s),s}once(e,t,r){let i=this.on(e,t,r),s=this.on(e,()=>{this.offref(i),this.offref(s)});return i}trigger(e,...t){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())this.tryTrigger(i,t)}async triggerAsync(e,...t){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())await this.tryTriggerAsync(i,t)}tryTrigger(e,t){try{e.callback.apply(e.thisArg,t)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,t){try{await e.callback.call(e.thisArg,...t)}catch(r){window.setTimeout(()=>{throw r},0)}}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zt="asyncError",nt=new z;nt.on(zt,_i);var Yn="An unhandled error occurred executing async operation",Jn="    at",he=class n extends Error{static{o(this,"CustomStackTraceError")}constructor(e,t,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,n);let i=r,s=new Set;for(;i instanceof n;){if(s.has(i))throw new Error("Circular cause detected");s.add(i),i=i.cause}let a=(this.stack??"").split(`
`),l=t.split(`
`);/^\w*Error(?:: |$)/.test(l[0]??"")&&l.splice(0,1),a.splice(1,a.length-1,...l),this.stack=a.join(`
`)}},ge=class n extends Error{static{o(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,n)}};function qn(n){nt.trigger(zt,n)}o(qn,"emitAsyncErrorEvent");function Kt(n){if(!(n instanceof Error))return String(n);let e=n.stack??`${n.name}: ${n.message}`;if(n.cause!==void 0){let t=Kt(n.cause).split(`
`);e+=`
${Kn("Caused by:")}`;for(let r of t)r.trim()&&(e+=r.startsWith(Jn)?`
${r}`:`
${Kn(r)}`)}return e}o(Kt,"errorToString");function me(n=0){return(new Error().stack??"").split(`
`).slice(n+2).join(`
`)}o(me,"getStackTrace");function Xn(n,e){e??=globalThis.console,e.error(Kt(n))}o(Xn,"printError");function Zn(n){let e=nt.on(zt,n);return()=>{nt.offref(e)}}o(Zn,"registerAsyncErrorEventHandler");function Ie(n){throw n}o(Ie,"throwExpression");function Kn(n){return`${Jn} --- ${n} --- (0)`}o(Kn,"generateStackTraceLine");function _i(n){Xn(n)}o(_i,"handleAsyncError");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yt="46.17.1",rt="obsidian-dev-utils",Qn=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utilsprogress.loop {
  min-width: 200px;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.plugin-settings-tab a:focus {
  outline: 2px solid var(--link-color);
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/loop.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/plugin-settings-tab.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;ACjDJ;EACE;;;ACAA;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&progress.loop%20%7B%5Cn%20%20%20%20min-width:%20200px;%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.plugin-settings-tab%20%7B%5Cn%20%20%20%20a:focus%20%7B%5Cn%20%20%20%20%20%20outline:%202px%20solid%20var(--link-color);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Jt=class{static{o(this,"ValueWrapper")}constructor(e){this.value=e}};function Mi(){let n=globalThis.app;if(n)return n;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}o(Mi,"getApp");function ye(n,e,t){let i=n??$i()??globalThis;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[e]??=new Jt(t)}o(ye,"getObsidianDevUtilsState");function $i(){return typeof window>"u"?null:Mi()}o($i,"getAppOrNull");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qt="__no-plugin-id-initialized__",er=qt;function it(){return er}o(it,"getPluginId");function tr(n){n&&(er=n)}o(tr,"setPluginId");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var nr=",",ot="-";function rr(){return{disable:Bi,enable:Vi,get:st,set:De}}o(rr,"getDebugController");function Le(n,e=0){let t=`${n}:${String(e)}`,r=ye(null,"debuggers",new Map).value,i=r.get(t);return i||(i=Ne()(n),i.log=(s,...a)=>{ji(n,e,s,...a)},r.set(t,i)),i}o(Le,"getDebugger");function be(n){let e=it(),t=e===qt?"":`${e}:`;return Le(`${t}${rt}:${n}`)}o(be,"getLibDebugger");function ir(n){let e=Ne().enabled(n),t=e?"enabled":"disabled",r=e?"disable":"enable",i=st();De(n),Le(n)(`Debug messages for plugin ${n} are ${t}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),De(i)}o(ir,"showInitialDebugMessage");function Bi(n){let e=new Set(st());for(let t of _e(n)){if(t.startsWith(ot))continue;let r=ot+t;e.has(t)&&e.delete(t),e.add(r)}De(Array.from(e))}o(Bi,"disableNamespaces");function Vi(n){let e=new Set(st());for(let t of _e(n)){if(!t.startsWith(ot)){let r=ot+t;e.has(r)&&e.delete(r)}e.add(t)}De(Array.from(e))}o(Vi,"enableNamespaces");function st(){return _e(Ne().load()??"")}o(st,"getNamespaces");function Ne(){return typeof window>"u"?Xt.default:ye(null,"debug",Xt.default).value}o(Ne,"getSharedDebugLibInstance");function Wi(){return typeof window<"u"}o(Wi,"isInObsidian");function ji(n,e,t,...r){if(!Ne().enabled(n))return;if(!Wi()){console.debug(t,...r);return}let i=4,s=new Error().stack?.split(`
`)??[];s.splice(0,i+e),console.debug(t,...r,`

---
Logger stack trace:
`,Ui(s.join(`
`)))}o(ji,"logWithCaller");function Ui(n){return new he("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",n,void 0)}o(Ui,"makeStackTraceError");function De(n){Ne().enable(_e(n).join(nr))}o(De,"setNamespaces");function _e(n){return typeof n=="string"?n.split(nr).filter(Boolean):n.flatMap(_e)}o(_e,"toArray");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Zt(n){return n.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Zt,"escapeRegExp");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Hi={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var zi={};for(let[n,e]of Object.entries(Hi))zi[e]=n;o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yi=[{constructor:ArrayBuffer,equalityComparer:Ji},{constructor:Date,equalityComparer:qi},{constructor:RegExp,equalityComparer:Zi},{constructor:Map,equalityComparer:Xi},{constructor:Set,equalityComparer:Qi}];function B(n,e){if(n===e)return!0;if(typeof n!="object"||typeof e!="object"||n===null||e===null)return!1;let t=n.constructor,r=e.constructor;if(t!==r)return!1;if(t!==Object){let c=eo(n,e);if(c!==void 0)return c}let i=Ae(n),s=Ae(e);if(i.length!==s.length)return!1;let a=n,l=e;for(let c of i)if(!s.includes(c)||!B(a[c],l[c]))return!1;return!0}o(B,"deepEqual");function Ae(n){let e=[],t=n;for(;t;){let r=Object.getOwnPropertyDescriptors(t);for(let[i,s]of Object.entries(r)){if(i==="__proto__"||typeof s.value=="function")continue;let a=typeof s.get=="function",l=typeof s.set=="function";if(a||l){a&&l&&e.push(i);continue}s.enumerable&&s.writable&&e.push(i)}t=Object.getPrototypeOf(t)}return e.sort()}o(Ae,"getAllKeys");function or(n){return n==null?n:Object.getPrototypeOf(n)}o(or,"getPrototypeOf");function Ji(n,e){if(n.byteLength!==e.byteLength)return!1;let t=new Uint8Array(n),r=new Uint8Array(e);return B(t,r)}o(Ji,"deepEqualArrayBuffer");function qi(n,e){return n.getTime()===e.getTime()}o(qi,"deepEqualDate");function Xi(n,e){if(n.size!==e.size)return!1;for(let[t,r]of n.entries())if(!e.has(t)||!B(r,e.get(t)))return!1;return!0}o(Xi,"deepEqualMap");function Zi(n,e){return n.source===e.source&&n.flags===e.flags}o(Zi,"deepEqualRegExp");function Qi(n,e){if(n.size!==e.size)return!1;for(let t of n){if(e.has(t))continue;let r=!1;for(let i of e)if(B(t,i)){r=!0;break}if(!r)return!1}return!0}o(Qi,"deepEqualSet");function eo(n,e){for(let{constructor:t,equalityComparer:r}of Yi)if(n instanceof t&&e instanceof t)return r(n,e)}o(eo,"deepEqualTyped");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function to(n,e){e??=me(1);try{await n()}catch(t){let r=new he(Yn,e,t);if(no(r))return;qn(r)}}o(to,"addErrorHandler");function at(n,e){return e??=me(1),(...t)=>{let r=me(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,V(()=>n(...t),e)}}o(at,"convertAsyncToSync");function no(n){let e=n;for(;!(e instanceof ge);){if(!(e instanceof Error))return!1;e=e.cause}return be("Async:handleSilentError")(n),!0}o(no,"handleSilentError");function V(n,e){e??=me(1),to(n,e)}o(V,"invokeAsyncSafely");function Me(n,e=0,t,r){r??=ue(),r.throwIfAborted(),t??=me(1),V(async()=>{await Qt(e,r,!0),await n(r)},t)}o(Me,"invokeAsyncSafelyAfterDelay");async function Qt(n,e,t){await Ln(Wt(e,In(n))),t&&e?.throwIfAborted()}o(Qt,"sleep");var we=require("obsidian");var io=require("obsidian"),oo=require("obsidian"),so=require("obsidian"),ka=require("obsidian"),Ra=require("obsidian"),ao=require("obsidian"),lo=require("obsidian"),co=require("obsidian");var Q={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},ro={AllProperties:"all-properties",Audio:"audio",Backlink:Q.Backlink,Bases:Q.Bases,Bookmarks:Q.Bookmarks,Canvas:Q.Canvas,Empty:"empty",FileExplorer:Q.FileExplorer,FileProperties:"file-properties",Graph:Q.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:Q.OutgoingLink,Outline:Q.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};var en=qe(lr(),1);o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var q=en.default.posix,$a=q.delimiter,Ba=en.default.posix.sep,tn=q.basename,fo=q.dirname,cr=q.extname,Va=q.format;var po=q.join,Wa=q.normalize,ja=q.parse,Ua=q.relative;o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function dr(n){return n instanceof we.TFolder}o(dr,"isFolder");var Ro=require("obsidian");var b=o(n=>typeof n=="string","isString"),$e=o(()=>{let n,e,t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},"defer"),fr=o(n=>n==null?"":""+n,"makeString"),ho=o((n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},"copy"),go=/###/g,pr=o(n=>n&&n.indexOf("###")>-1?n.replace(go,"."):n,"cleanKey"),hr=o(n=>!n||b(n),"canNotTraverseDeeper"),Be=o((n,e,t)=>{let r=b(e)?e.split("."):e,i=0;for(;i<r.length-1;){if(hr(n))return{};let s=pr(r[i]);!n[s]&&t&&(n[s]=new t),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++i}return hr(n)?{}:{obj:n,k:pr(r[i])}},"getLastOfPath"),gr=o((n,e,t)=>{let{obj:r,k:i}=Be(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),l=Be(n,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=Be(n,a,Object),l?.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=t},"setPath"),mo=o((n,e,t,r)=>{let{obj:i,k:s}=Be(n,e,Object);i[s]=i[s]||[],i[s].push(t)},"pushPath"),ct=o((n,e)=>{let{obj:t,k:r}=Be(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},"getPath"),yo=o((n,e,t)=>{let r=ct(n,t);return r!==void 0?r:ct(e,t)},"getPathWithDefaults"),Cr=o((n,e,t)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?b(n[r])||n[r]instanceof String||b(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):Cr(n[r],e[r],t):n[r]=e[r]);return n},"deepExtend"),Ce=o(n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),bo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Ao=o(n=>b(n)?n.replace(/[&<>"'\/]/g,e=>bo[e]):n,"escape"),sn=class{static{o(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(t!==void 0)return t;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},vo=[" ",",","?","!",";"],wo=new sn(20),Co=o((n,e,t)=>{e=e||"",t=t||"";let r=vo.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(r.length===0)return!0;let i=wo.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`),s=!i.test(n);if(!s){let a=n.indexOf(t);a>0&&!i.test(n.substring(0,a))&&(s=!0)}return s},"looksLikeObjectPath"),an=o((n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;let r=e.split(t),i=n;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,l="";for(let c=s;c<r.length;++c)if(c!==s&&(l+=t),l+=r[c],a=i[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<r.length-1)continue;s+=c-s+1;break}i=a}return i},"deepFind"),Ve=o(n=>n?.replace("_","-"),"getCleanedCode"),Eo={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}},ln=class n{static{o(this,"Logger")}constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Eo,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(b(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new n(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new n(this.logger,e)}},Y=new ln,Ee=class{static{o(this,"EventEmitter")}constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[e,...t])})}},ut=class extends Ee{static{o(this,"ResourceStore")}constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){let s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],r&&(Array.isArray(r)?l.push(...r):b(r)&&s?l.push(...r.split(s)):l.push(r)));let c=ct(this.data,l);return!c&&!t&&!r&&e.indexOf(".")>-1&&(e=l[0],t=l[1],r=l.slice(2).join(".")),c||!a||!b(r)?c:an(this.data?.[e]?.[t],r,s)}addResource(e,t,r,i,s={silent:!1}){let a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=[e,t];r&&(l=l.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(l=e.split("."),i=t,t=l[1]),this.addNamespaces(t),gr(this.data,l,i),s.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(let s in r)(b(r[s])||Array.isArray(r[s]))&&this.addResource(e,t,s,r[s],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,s,a={silent:!1,skipCopy:!1}){let l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=t,t=l[1]),this.addNamespaces(t);let c=ct(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Cr(c,r,s):c={...c,...r},gr(this.data,l,c),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}},Er={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(s=>{e=this.processors[s]?.process(e,t,r,i)??e}),e}},Sr=Symbol("i18next/PATH_KEY");function So(){let n=[],e=Object.create(null),t;return e.get=(r,i)=>(t?.revoke?.(),i===Sr?n:(n.push(i),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}o(So,"createProxy");function cn(n,e){let{[Sr]:t}=n(So());return t.join(e?.keySeparator??".")}o(cn,"keysFromSelector");var mr={},nn=o(n=>!b(n)&&typeof n!="boolean"&&typeof n!="number","shouldHandleAsObject"),dt=class n extends Ee{static{o(this,"Translator")}constructor(e,t={}){super(),ho(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Y.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){let r={...t};if(e==null)return!1;let i=this.resolve(e,r);if(i?.res===void 0)return!1;let s=nn(i.res);return!(r.returnObjects===!1&&s)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,s=t.ns||this.options.defaultNS||[],a=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Co(e,r,i);if(a&&!l){let c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:b(s)?[s]:s};let u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:b(s)?[s]:s}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=cn(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);let s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),u=c[c.length-1],f=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");let d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return h?s?{res:`${u}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${f}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:l;let g=this.resolve(e,i),m=g?.res,v=g?.usedKey||l,p=g?.exactUsedKey||l,y=["[object Number]","[object Function]","[object RegExp]"],A=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,w=i.count!==void 0&&!b(i.count),E=n.hasDefaultValue(i),S=w?this.pluralResolver.getSuffix(d,i.count,i):"",k=i.ordinal&&w?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",j=w&&!i.ordinal&&i.count===0,I=j&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${S}`]||i[`defaultValue${k}`]||i.defaultValue,D=m;C&&!m&&E&&(D=I);let Ye=nn(D),Pe=Object.prototype.toString.apply(D);if(C&&D&&Ye&&y.indexOf(Pe)<0&&!(b(A)&&Array.isArray(D))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,D,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(g.res=R,g.usedParams=this.getUsedParamsDetails(i),g):R}if(a){let R=Array.isArray(D),L=R?[]:{},re=R?p:v;for(let x in D)if(Object.prototype.hasOwnProperty.call(D,x)){let U=`${re}${a}${x}`;E&&!m?L[x]=this.translate(U,{...i,defaultValue:nn(I)?I[x]:void 0,joinArrays:!1,ns:c}):L[x]=this.translate(U,{...i,joinArrays:!1,ns:c}),L[x]===U&&(L[x]=D[x])}m=L}}else if(C&&b(A)&&Array.isArray(m))m=m.join(A),m&&(m=this.extendTranslation(m,e,i,r));else{let R=!1,L=!1;!this.isValidLookup(m)&&E&&(R=!0,m=I),this.isValidLookup(m)||(L=!0,m=l);let x=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:m,U=E&&I!==m&&this.options.updateMissing;if(L||R||U){if(this.logger.log(U?"updateKey":"missingKey",d,u,l,U?I:m),a){let _=this.resolve(l,{...i,keySeparator:!1});_&&_.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Oe=[],Je=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Je&&Je[0])for(let _=0;_<Je.length;_++)Oe.push(Je[_]);else this.options.saveMissingTo==="all"?Oe=this.languageUtils.toResolveHierarchy(i.lng||this.language):Oe.push(i.lng||this.language);let On=o((_,ie,ke)=>{let kn=E&&ke!==m?ke:x;this.options.missingKeyHandler?this.options.missingKeyHandler(_,u,ie,kn,U,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(_,u,ie,kn,U,i),this.emit("missingKey",_,u,ie,m)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&w?Oe.forEach(_=>{let ie=this.pluralResolver.getSuffixes(_,i);j&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(ke=>{On([_],l+ke,i[`defaultValue${ke}`]||I)})}):On(Oe,l,I))}m=this.extendTranslation(m,e,i,g,r),L&&m===l&&this.options.appendNamespaceToMissingKey&&(m=`${u}${f}${l}`),(L||R)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${f}${l}`:l,R?m:void 0,i))}return s?(g.res=m,g.usedParams=this.getUsedParamsDetails(i),g):m}extendTranslation(e,t,r,i,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let c=b(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),u;if(c){let d=e.match(this.interpolator.nestingRegexp);u=d&&d.length}let f=r.replace&&!b(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),c){let d=e.match(this.interpolator.nestingRegexp),h=d&&d.length;u<h&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...d)=>s?.[0]===d[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${t[0]}`),null):this.translate(...d,t),r)),r.interpolation&&this.interpolator.reset()}let a=r.postProcess||this.options.postProcess,l=b(a)?[a]:a;return e!=null&&l?.length&&r.applyPostProcessor!==!1&&(e=Er.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,s,a,l;return b(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;let u=this.extractFromKey(c,t),f=u.key;i=f;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let h=t.count!==void 0&&!b(t.count),g=h&&!t.ordinal&&t.count===0,m=t.context!==void 0&&(b(t.context)||typeof t.context=="number")&&t.context!=="",v=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(p=>{this.isValidLookup(r)||(l=p,!mr[`${v[0]}-${p}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(mr[`${v[0]}-${p}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(y=>{if(this.isValidLookup(r))return;a=y;let A=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(A,f,y,p,t);else{let w;h&&(w=this.pluralResolver.getSuffix(y,t.count,t));let E=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(t.ordinal&&w.indexOf(S)===0&&A.push(f+w.replace(S,this.options.pluralSeparator)),A.push(f+w),g&&A.push(f+E)),m){let k=`${f}${this.options.contextSeparator||"_"}${t.context}`;A.push(k),h&&(t.ordinal&&w.indexOf(S)===0&&A.push(k+w.replace(S,this.options.pluralSeparator)),A.push(k+w),g&&A.push(k+E))}}let C;for(;C=A.pop();)this.isValidLookup(r)||(s=C,r=this.getResource(y,p,C,t))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){let t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!b(e.replace),i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(let s of t)delete i[s]}return i}static hasDefaultValue(e){let t="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}},ft=class{static{o(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Y.create("languageUtils")}getScriptPartFromCode(e){if(e=Ve(e),!e||e.indexOf("-")<0)return null;let t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ve(e),!e||e.indexOf("-")<0)return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(b(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;let i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;let i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;let s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),b(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],s=o(a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))},"addCode");return b(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):b(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}},yr={zero:0,one:1,two:2,few:3,many:4,other:5},br={select:o(n=>n===1?"one":"other","select"),resolvedOptions:o(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},un=class{static{o(this,"PluralResolver")}constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Y.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){let r=Ve(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),br;if(!e.match(/-|_/))return br;let c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,t)}return this.pluralRulesCache[s]=a,a}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>yr[i]-yr[s]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){let i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}},Ar=o((n,e,t,r=".",i=!0)=>{let s=yo(n,e,t);return!s&&i&&b(t)&&(s=an(n,t,r),s===void 0&&(s=an(e,t,r))),s},"deepFindWithDefaults"),rn=o(n=>n.replace(/\$/g,"$$$$"),"regexSafe"),pt=class{static{o(this,"Interpolator")}constructor(e={}){this.logger=Y.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:f,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:g,nestingSuffix:m,nestingSuffixEscaped:v,nestingOptionsSeparator:p,maxReplaces:y,alwaysFormat:A}=e.interpolation;this.escape=t!==void 0?t:Ao,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Ce(s):a||"{{",this.suffix=l?Ce(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=h?Ce(h):g||Ce("$t("),this.nestingSuffix=m?Ce(m):v||Ce(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=y||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=o((t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let s,a,l,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=o(g=>{if(g.indexOf(this.formatSeparator)<0){let y=Ar(t,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...t,interpolationkey:g}):y}let m=g.split(this.formatSeparator),v=m.shift().trim(),p=m.join(this.formatSeparator).trim();return this.format(Ar(t,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),p,r,{...i,...t,interpolationkey:v})},"handleFormat");this.resetRegExp();let f=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:o(g=>rn(g),"safeValue")},{regex:this.regexp,safeValue:o(g=>this.escapeValue?rn(this.escape(g)):rn(g),"safeValue")}].forEach(g=>{for(l=0;s=g.regex.exec(e);){let m=s[1].trim();if(a=u(m),a===void 0)if(typeof f=="function"){let p=f(e,s,i);a=b(p)?p:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),a="";else!b(a)&&!this.useRawValueToEscape&&(a=fr(a));let v=g.safeValue(a);if(e=e.replace(s[0],v),d?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,s,a,l=o((c,u)=>{let f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;let d=c.split(new RegExp(`${f}[ ]*{`)),h=`{${d[1]}`;c=d[0],h=this.interpolate(h,a);let g=h.match(/'/g),m=h.match(/"/g);((g?.length??0)%2===0&&!m||m.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),u&&(a={...u,...a})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${f}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c},"handleHasOptions");for(;i=this.nestingRegexp.exec(e);){let c=[];a={...r},a=a.replace&&!b(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=t(l.call(this,i[1].trim(),a),a),s&&i[0]===e&&!b(s))return s;b(s)||(s=fr(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c.length&&(s=c.reduce((f,d)=>this.format(f,d,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}},xo=o(n=>{let e=n.toLowerCase().trim(),t={};if(n.indexOf("(")>-1){let r=n.split("(");e=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(a=>{if(a){let[l,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();t[f]||(t[f]=u),u==="false"&&(t[f]=!1),u==="true"&&(t[f]=!0),isNaN(u)||(t[f]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},"parseFormatStr"),vr=o(n=>{let e={};return(t,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});let a=r+JSON.stringify(s),l=e[a];return l||(l=n(Ve(r),i),e[a]=l),l(t)}},"createCachedFormatter"),To=o(n=>(e,t,r)=>n(Ve(t),r)(e),"createNonCachedFormatter"),dn=class{static{o(this,"Formatter")}constructor(e={}){this.logger=Y.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";let r=t.cacheInBuiltFormats?vr:To;this.formats={number:r((i,s)=>{let a=new Intl.NumberFormat(i,{...s});return l=>a.format(l)}),currency:r((i,s)=>{let a=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>a.format(l)}),datetime:r((i,s)=>{let a=new Intl.DateTimeFormat(i,{...s});return l=>a.format(l)}),relativetime:r((i,s)=>{let a=new Intl.RelativeTimeFormat(i,{...s});return l=>a.format(l,s.range||"day")}),list:r((i,s)=>{let a=new Intl.ListFormat(i,{...s});return l=>a.format(l)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=vr(t)}format(e,t,r,i={}){let s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){let l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{let{formatName:u,formatOptions:f}=xo(c);if(this.formats[u]){let d=l;try{let h=i?.formatParams?.[i.interpolationkey]||{},g=h.locale||h.lng||i.locale||i.lng||r;d=this.formats[u](l,g,{...f,...i,...h})}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${u}`);return l},e)}},Fo=o((n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)},"removePending"),fn=class extends Ee{static{o(this,"Connector")}constructor(e,t,r,i={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Y.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,t,r,i){let s={},a={},l={},c={};return e.forEach(u=>{let f=!0;t.forEach(d=>{let h=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,f=!1,a[h]===void 0&&(a[h]=!0),s[h]===void 0&&(s[h]=!0),c[d]===void 0&&(c[d]=!0)))}),f||(l[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,t,r){let i=e.split("|"),s=i[0],a=i[1];t&&this.emit("failedLoading",s,a,t),!t&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);let l={};this.queue.forEach(c=>{mo(c.loaded,[s],a),Fo(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});let f=c.loaded[u];f.length&&f.forEach(d=>{l[u][d]===void 0&&(l[u][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,t,r,i=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;let l=o((u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,s*2,a)},s);return}a(u,f)},"resolver"),c=this.backend[r].bind(this.backend);if(c.length===2){try{let u=c(e,t);u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,t,l)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();b(e)&&(e=this.languageUtils.toResolveHierarchy(e)),b(t)&&(t=[t]);let s=this.queueLoad(e,t,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){let r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${i} failed`,a),!a&&l&&this.logger.log(`${t}loaded namespace ${s} for language ${i}`,l),this.loaded(e,a,l)})}saveMissing(e,t,r,i,s,a={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let c={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(e,t,r,i,c):f=u(e,t,r,i),f&&typeof f.then=="function"?f.then(d=>l(null,d)).catch(l):l(null,f)}catch(f){l(f)}else u(e,t,r,i,l,c)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}},on=o(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o(n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),b(n[1])&&(e.defaultValue=n[1]),b(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){let t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:o(n=>n,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),wr=o(n=>(b(n.ns)&&(n.ns=[n.ns]),b(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),b(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),"transformOptions"),lt=o(()=>{},"noop"),Po=o(n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})},"bindMemberFunctions"),pn=class n extends Ee{static{o(this,"I18n")}constructor(e={},t){if(super(),this.options=wr(e),this.services={},this.logger=Y,this.modules={external:[]},Po(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(b(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=on();this.options={...r,...this.options,...wr(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);let i=o(u=>u?typeof u=="function"?new u:u:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?Y.init(i(this.modules.logger),this.options):Y.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=dn;let f=new ft(this.options);this.store=new ut(this.options.resources,this.options);let d=this.services;d.logger=Y,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new un(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(u),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new pt(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new fn(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new dt(this.services,this.options),this.translator.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,t||(t=lt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...f)=>this.store[u](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...f)=>(this.store[u](...f),this)});let l=$e(),c=o(()=>{let u=o((f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),t(f,d)},"finish");if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)},"load");return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,t=lt){let r=t,i=b(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let s=[],a=o(l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})},"append");i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload?.forEach?.(l=>a(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,t,r){let i=$e();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=lt),this.services.backendConnector.reload(e,t,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Er.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){let r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;let r=$e();this.emit("languageChanging",e);let i=o(l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},"setLngProps"),s=o((l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),t&&t(l,(...u)=>this.t(...u))},"done"),a=o(l=>{!e&&!l&&this.services.languageDetector&&(l=[]);let c=b(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(b(l)?[l]:l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,f=>{s(f,u)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,t,r){let i=o((s,a,...l)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([s,a].concat(l)):c={...a},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);let u=this.options.keySeparator||".",f;return c.keyPrefix&&Array.isArray(s)?f=s.map(d=>(typeof d=="function"&&(d=cn(d,{...this.options,...a})),`${c.keyPrefix}${u}${d}`)):(typeof s=="function"&&(s=cn(s,{...this.options,...a})),f=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(f,c)},"fixedT");return b(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let a=o((l,c)=>{let u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2},"loadNotPending");if(t.precheck){let l=t.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(s,e)))}loadNamespaces(e,t){let r=$e();return this.options.ns?(b(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){let r=$e();b(e)&&(e=[e]);let i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let i=new Intl.Locale(e);if(i&&i.getTextInfo){let s=i.getTextInfo();if(s&&s.direction)return s.direction}}catch{}let t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new ft(on());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){let r=new n(e,t);return r.createInstance=n.createInstance,r}cloneInstance(e={},t=lt){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},s=new n(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){let l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((f,d)=>(f[d]={...c[u][d]},f),c[u]),c),{});s.store=new ut(l,i),s.services.resourceStore=s.store}if(e.interpolation){let c={...on().interpolation,...this.options.interpolation,...e.interpolation},u={...i,interpolation:c};s.services.interpolator=new pt(u)}return s.translator=new dt(s.services,i),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(i,t),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},P=pn.createInstance(),nl=P.createInstance,rl=P.dir,xr=P.init,il=P.loadResources,ol=P.reloadResources,sl=P.use,al=P.changeLanguage,ll=P.getFixedT,Tr=P.t,cl=P.exists,ul=P.setDefaultNamespace,dl=P.hasLoadedNamespace,fl=P.loadNamespaces,pl=P.loadLanguages;var Pr=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ht={obsidianDevUtils:{asyncWithNotice:{milliseconds:"milliseconds...",operation:"Operation",runningFor:"Running for",terminateOperation:"You can terminate the operation by clicking the button below, but be aware it might leave the vault in an inconsistent state.",timedOut:"The operation timed out after {{duration}} milliseconds."},buttons:{cancel:"Cancel",ok:"OK"},callout:{loadContent:"Load content for callout"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:",pageHeader:"Page {{pageNumber}} of {{totalPages}}, Total items: {{totalItems}}"},metadataCache:{getBacklinksForFilePath:"Get backlinks for {{filePath}}"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."},queue:{flushQueue:"Flush queue"},renameDeleteHandler:{handleDelete:"Handle delete: {{filePath}}",handleOrphanedRenames:"Handle orphaned renames",handleRename:"Handle rename: {{oldPath}} -> {{newPath}}",updatedLinks:"Updated {{linksCount}} links in {{filesCount}} files."},vault:{processFile:"Process file {{filePath}}"}}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var hn="en",Oo={en:ht},gt=Oo;o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fr="translation",gn=!1;async function mn(n,e=!0){gn||(gn=!0,await xr({fallbackLng:hn,initAsync:e,interpolation:{escapeValue:!1},lng:(0,Pr.getLanguage)(),resources:Object.fromEntries(Object.entries(n).map(([t,r])=>[t,{[Fr]:r}])),returnEmptyString:!1,returnNull:!1}),P.addResourceBundle(hn,Fr,ht,!0,!1))}o(mn,"initI18N");function ko(n,e){return gn||(console.warn("I18N was not initialized, initializing default obsidian-dev-utils translations"),V(()=>mn(gt,!1))),Tr(n,e)}o(ko,"tImpl");var We=ko;o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yn=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wo=require("obsidian");var kr=require("@codemirror/state"),Lo=require("@codemirror/view");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Rr(n){await new Promise(e=>{n.metadataCache.onCleanCache(e)})}o(Rr,"ensureMetadataCacheReady");function Ir(n,e){let t=Object.keys(e).map(r=>jo(n,r,e[r]));return t.length===1?t[0]:function(){t.forEach(r=>r())}}o(Ir,"around");function jo(n,e,t){let r=n[e],i=n.hasOwnProperty(e),s=i?r:function(){return Object.getPrototypeOf(n)[e].apply(this,arguments)},a=t(s);return r&&Object.setPrototypeOf(a,r),Object.setPrototypeOf(l,a),n[e]=l,c;function l(...u){return a===s&&n[e]===l&&c(),a.apply(this,u)}o(l,"wrapper");function c(){n[e]===l&&(i?n[e]=s:delete n[e]),a!==s&&(a=s,Object.setPrototypeOf(l,r||Function))}o(c,"remove")}o(jo,"around1");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Uo(n,e){return Ir(n,e)}o(Uo,"around");function je(n,e,t){let r=Uo(e,t),i=!1;function s(){if(!i)try{r()}finally{i=!0}}return o(s,"uninstallerWrapper"),n.register(s),r}o(je,"registerPatch");var vt=require("obsidian");var Dr=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mt=class extends Dr.Component{static{o(this,"AsyncEventsComponent")}registerAsyncEvent(e){yt(this,e)}};function yt(n,e){n.register(()=>{e.asyncEvents.offref(e)})}o(yt,"registerAsyncEvent");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Go(n){let e=new Set;return n.workspace.iterateAllLeaves(t=>{e.add(t.getContainer())}),Array.from(e)}o(Go,"getAllContainers");function Lr(n){return Go(n).map(e=>e.win)}o(Lr,"getAllDomWindows");var $r=qe(_r(),1);o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var M=(n=>(n.AlertModal="alert-modal",n.CancelButton="cancel-button",n.CheckboxComponent="checkbox-component",n.CodeHighlighterComponent="code-highlighter-component",n.ConfirmModal="confirm-modal",n.DateComponent="date-component",n.DateTimeComponent="datetime-component",n.EmailComponent="email-component",n.FileComponent="file-component",n.IsPlaceholder="is-placeholder",n.LibraryName="obsidian-dev-utils",n.MonthComponent="month-component",n.MultipleDropdownComponent="multiple-dropdown-component",n.MultipleEmailComponent="multiple-email-component",n.MultipleFileComponent="multiple-file-component",n.MultipleTextComponent="multiple-text-component",n.NumberComponent="number-component",n.OkButton="ok-button",n.OverlayValidator="overlay-validator",n.PasswordComponent="password-component",n.PluginSettingsTab="plugin-settings-tab",n.PromptModal="prompt-modal",n.SelectItemModal="select-item-modal",n.SettingComponentWrapper="setting-component-wrapper",n.TelephoneComponent="telephone-component",n.TextBox="text-box",n.TimeComponent="time-component",n.Tooltip="tooltip",n.TooltipArrow="tooltip-arrow",n.TooltipValidator="tooltip-validator",n.TriStateCheckboxComponent="tri-state-checkbox-component",n.TypedDropdownComponent="typed-dropdown-component",n.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",n.UrlComponent="url-component",n.WeekComponent="week-component",n))(M||{});o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mr=`${rt}-styles`;function ee(n,...e){n.addClass(M.LibraryName,it(),...e)}o(ee,"addPluginCssClasses");function Br(n){let e=n;e.DEBUG=rr()}o(Br,"initDebugController");function Vr(n,e){tr(e),ir(e);let t=ye(n,"lastLibraryVersion","0.0.0");(0,$r.compareVersions)(Yt,t.value)<=0||(t.value=Yt,document.head.querySelector(`#${Mr}`)?.remove(),document.head.createEl("style",{attr:{id:Mr},text:Qn}))}o(Vr,"initPluginContext");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var At=class extends vt.Plugin{static{o(this,"PluginBase")}events=new z;get abortSignal(){if(!this._abortSignal)throw new Error("Abort signal not defined");return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...t){Le(this.manifest.id,1)(e,...t)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Me(this.afterLoad.bind(this))}onunload(){super.onunload(),V(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(e){let t=window;e(t),this.app.workspace.onLayoutReady(()=>{for(let r of Lr(this.app))r!==t&&e(r);this.registerEvent(this.app.workspace.on("window-open",r=>{e(r.win)}))})}registerForLifecycleEvent(e,t){V(async()=>{await this.waitForLifecycleEvent(e),await t()})}registerPopupDocumentDomEvent(e,t,r){this.registerDomWindowHandler(i=>{this.registerDomEvent(i.document,e,t,r)})}registerPopupWindowDomEvent(e,t,r){this.registerDomWindowHandler(i=>{this.registerDomEvent(i,e,t,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(t=>{this.events.once(e,()=>{t()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return gt}handleAsyncError(e){this.showNotice(We(t=>t.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await H()}async onloadImpl(){Vr(this.app,this.manifest.id),this.registerDomWindowHandler(t=>{Br(t)}),await mn(this.createTranslationsMap()),this.register(Zn(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(yt(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),yt(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new ge(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,t){await H()}async onSaveSettings(e,t,r){await H()}async onunloadImpl(){await H()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new vt.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this.abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(at(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var Zr=qe(Jr(),1),xt=require("obsidian");var J=require("obsidian");async function qr(n,e){let t=n.vault.adapter,r=t.getFullPath(e);if(t instanceof J.FileSystemAdapter)try{return await t.fsPromises.access(r),!0}catch{return!1}if(t instanceof J.CapacitorAdapter)try{return await t.fs.stat(r),!0}catch{return!1}throw new Error("Unknown adapter")}o(qr,"existsSafe");async function Sn(n,e){if(!await qr(n,e))return"";let t=n.vault.adapter,r=t.getFullPath(e);if(t instanceof J.FileSystemAdapter)return await t.fsPromises.readFile(r,"utf8");if(t instanceof J.CapacitorAdapter)return await t.fs.read(r);throw new Error("Unknown adapter")}o(Sn,"readSafe");async function xn(n,e){if(!await qr(n,e))return null;let t=n.vault.adapter,r=t.getFullPath(e);if(t instanceof J.FileSystemAdapter){let i=await t.fsPromises.stat(r);return{ctime:Math.round(i.birthtimeMs),mtime:Math.round(i.mtimeMs),size:i.size,type:i.isFile()?"file":"directory"}}if(t instanceof J.CapacitorAdapter){let i=await t.fs.stat(r);return{ctime:i.ctime??0,mtime:i.mtime??0,size:i.size??0,type:i.type}}throw new Error("Unknown adapter")}o(xn,"statSafe");async function Xr(n,e,t){let r=n.vault.adapter,i=r.getFullPath(e);if(r instanceof J.FileSystemAdapter){await r.fsPromises.writeFile(i,t);return}if(r instanceof J.CapacitorAdapter){await r.fs.write(i,t);return}throw new Error("Unknown adapter")}o(Xr,"writeSafe");var He="/",Te=".obsidianignore",Fe=".gitignore",ds=1,Ge="mtime",se="files",fs=5e3,St=class extends xt.Component{constructor(t){super();this.plugin=t}static{o(this,"IgnorePatternsComponent")}_db;cachedExcludeRegExps=null;cachedGitIgnoreContent="";cachedIgnoreTester=null;cachedObsidianIgnoreContent="";fileIgnoreMap=new Map;onloadPromise=Promise.resolve();pendingStoreActions=[];processStoreActionsDebounced=(0,xt.debounce)(()=>{this.processStoreActions()},fs);get db(){if(!this._db)throw new Error("db is not set");return this._db}clearCachedExcludeRegExps(){this.cachedExcludeRegExps=null,this.plugin.settings.shouldIgnoreExcludedFiles&&(this.fileIgnoreMap.clear(),Me(()=>this.processConfigChanges()))}async handleDeletedOrDotFile(t){this.fileIgnoreMap.has(t)&&(this.fileIgnoreMap.delete(t),this.addStoreAction(i=>i.delete(t)));let r=!1;t===Te&&(r||=await this.readObsidianIgnore()),t===Fe&&(r||=await this.readGitIgnore()),r&&(this.cachedIgnoreTester=null,Me(()=>this.processConfigChanges()))}async isIgnored(t,r){if(!this.plugin._loaded||t===He)return!1;await this.onloadPromise;let i=this.fileIgnoreMap.get(t);if(i!==void 0)return i;let s=this.getIgnoreTester(),a=this.getExcludeRegExps();return i=(r?[t,`${t}/`]:[t]).some(c=>s.ignores(c)||a.some(u=>u.test(c))),this.fileIgnoreMap.set(t,i),this.addStoreAction(c=>c.put({isIgnored:i,path:t})),i}onload(){super.onload(),this.onloadPromise=this.onloadAsync()}async processConfigChanges(){await this.resetDb(),await this.plugin.updateFileTree()}async readGitIgnore(){if(!this.plugin.settings.shouldIncludeGitIgnorePatterns)return this.cachedGitIgnoreContent="",!1;let t=await Sn(this.plugin.app,Fe);return t===this.cachedGitIgnoreContent?!1:(this.cachedGitIgnoreContent=t,!0)}async readObsidianIgnore(){let t=await Sn(this.plugin.app,Te);return t===this.cachedObsidianIgnoreContent?!1:(await this.plugin.settingsManager.setProperty("obsidianIgnoreContent",t),this.cachedObsidianIgnoreContent=t,!0)}async reload(t){this.cachedIgnoreTester=null,t===void 0?await this.readObsidianIgnore():await this.writeObsidianIgnore(t),await this.readGitIgnore()}async writeObsidianIgnore(t){this.cachedObsidianIgnoreContent!==t&&(await Xr(this.plugin.app,Te,t),await this.plugin.settingsManager.setProperty("obsidianIgnoreContent",t),this.cachedObsidianIgnoreContent=t)}addStoreAction(t){this.pendingStoreActions.push(t),this.processStoreActionsDebounced()}async getCurrentMtimeEntry(){return{gitIgnoreMtime:this.plugin.settings.shouldIncludeGitIgnorePatterns?(await xn(this.plugin.app,Fe))?.mtime??0:0,obsidianIgnoreMtime:(await xn(this.plugin.app,Te))?.mtime??0,userIgnoreFiltersStr:this.getUserIgnoreFilters().join(`
`)}}getExcludeRegExps(){if(!this.plugin.settings.shouldIgnoreExcludedFiles)return[];if(this.cachedExcludeRegExps)return this.cachedExcludeRegExps;let r=this.getUserIgnoreFilters().map(i=>{if(i.length>1&&i.startsWith("/")&&i.endsWith("/"))try{return new RegExp(i.slice(1,-1),"i")}catch{return console.error(`Invalid exclude filter: ${i}`),null}return new RegExp(`^${Zt(i)}`,"i")}).filter(i=>!!i);return this.cachedExcludeRegExps=r,r}getFileStore(){return this.db.transaction([se],"readwrite").objectStore(se)}getIgnoreTester(){if(this.cachedIgnoreTester)return this.cachedIgnoreTester;let t=`${this.cachedObsidianIgnoreContent}
${this.cachedGitIgnoreContent}`;return this.cachedIgnoreTester=(0,Zr.default)({ignoreCase:!0}).add(t.split(`
`)),this.cachedIgnoreTester}getUserIgnoreFilters(){return this.plugin.settings.shouldIgnoreExcludedFiles?this.plugin.app.vault.getConfig("userIgnoreFilters")??[]:[]}async loadDb(){let t=window.indexedDB.open(`${this.plugin.app.appId}/advanced-exclude`,ds);t.addEventListener("upgradeneeded",f=>{if(f.newVersion!==1)return;let d=t.result;d.createObjectStore(se,{keyPath:"path"}),d.createObjectStore(Ge)});let r=await Tn(t);this._db=r;let s=r.transaction([Ge],"readonly").objectStore(Ge),a={gitIgnoreMtime:0,obsidianIgnoreMtime:0,userIgnoreFiltersStr:""},l=await Tn(s.get(0))??a,c=await this.getCurrentMtimeEntry();if(!B(c,l)){await this.resetDb();return}let u=await Tn(this.getFileStore().getAll());for(let f of u)this.fileIgnoreMap.set(f.path,f.isIgnored)}async onloadAsync(){await this.loadDb(),await this.reload()}processStoreActions(){let t=this.pendingStoreActions;this.pendingStoreActions=[];let r=this.db.transaction(se,"readwrite"),i=r.objectStore(se);for(let s of t)s(i);r.commit()}async resetDb(){let t=await this.getCurrentMtimeEntry(),r=this.db.transaction([se,Ge],"readwrite"),i=r.objectStore(Ge);r.objectStore(se).clear(),this.fileIgnoreMap.clear(),i.put(t,0)}};async function Tn(n){return n.readyState==="done"?n.result:await new Promise((e,t)=>{n.addEventListener("success",()=>{e(n.result)}),n.addEventListener("error",()=>{t(n.error)})})}o(Tn,"getResult");var Tt=class{static{o(this,"PluginSettings")}excludeMode="Full";obsidianIgnoreContent="";shouldIgnoreExcludedFiles=!1;shouldIncludeGitIgnorePatterns=!0};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var te=class{static{o(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,t){return this.canTransform(e,t)?this.id:null}transformValueRecursively(e,t){let r=this.getTransformerId(e,t);if(r){let a=this.transformValue(e,t);return a===void 0?void 0:{__transformerId:r,transformedValue:a}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((a,l)=>this.transformValueRecursively(a,String(l)));let i=e;if(i.__transformerId)return this.getTransformer(i.__transformerId).restoreValue(i.transformedValue,t);let s={};for(let a of Ae(e)){let l=e[a],c=this.transformValueRecursively(l,a);s[a]=c}return s}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var W=class extends te{static{o(this,"TypedTransformer")}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ft=class extends W{static{o(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Qr=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pt=class extends W{static{o(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let t=e??{};return!!t.asHours&&!!t.asMinutes&&!!t.asSeconds&&!!t.asMilliseconds}restoreValue(e){return Qr.moment.duration(e)}transformValue(e){return e.toISOString()}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ot=class extends te{static{o(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,t){return this.getFirstTransformerThatCanTransform(e,t)!==null}getTransformer(e){return this.transformers.find(t=>t.id===e)??Ie(`No transformer with id ${e} found`)}transformValue(e,t){let r=this.getFirstTransformerThatCanTransform(e,t);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,t)}getTransformerId(e,t){let r=this.getFirstTransformerThatCanTransform(e,t);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,t){return this.transformers.find(r=>r.canTransform(e,t))??null}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var kt=class extends W{static{o(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Rt=class extends W{static{o(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ps="_",It=class extends te{static{o(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,t){return t.startsWith(ps)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ze=class{static{o(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[t,r]of e)this.set(t,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let t=this.getValue(e);t!==void 0&&this.valueKeyMap.delete(t),this.keyValueMap.delete(e)}deleteValue(e){let t=this.getKey(e);t!==void 0&&this.keyValueMap.delete(t),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,t){this.deleteKey(e),this.deleteValue(t),this.keyValueMap.set(e,t),this.valueKeyMap.set(t,e)}values(){return this.valueKeyMap.keys()}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Dt=class extends W{static{o(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof ze}restoreValue(e){return new ze(e)}transformValue(e){return Array.from(e.entries())}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var hs=new Ot([new It,new Ft,new Pt,new kt,new Rt,new Dt]),Lt=class extends z{static{o(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=Ae(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,t){await this.edit(e),await this.saveToFile(t)}async ensureSafe(e){let t=await this.validate(e);for(let r of this.propertyNames)t[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let t=await this.cloneSettings(e);return await this.ensureSafe(t),t}async loadFromFile(e){let t=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(t==null)return;if(typeof t!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof t}`);return}let r=t,i=await this.rawRecordToSettings(r),s=await this.validate(i);for(let l of this.propertyNames)this.setPropertyImpl(l,i[l],s[l]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let a=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);B(a,t)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,t,r){return super.on(e,t,r)}async revalidate(){return await this.edit(Z),this.currentSettingsWrapper.validationMessages}async saveToFile(e){B(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,t){return await this.edit(r=>{r[e]=t}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let t={};for(let[r,i]of this.validators.entries()){let s=await i(e[r],e);s&&(t[r]=s)}return t}getTransformer(){return hs}async onLoadRecord(e){for(let t of this.legacySettingsConverters)t(e);await Promise.resolve()}async onSavingRecord(e){await H()}registerLegacySettingsConverter(e,t){let r=this;this.legacySettingsConverters.push(i);function i(s){let a=new Set(Object.keys(new e)),l=new Set(r.propertyNames),c=s;t(c);for(let u of Object.keys(c))l.has(u)||a.has(u)&&delete s[u]}o(i,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,t){this.validators.set(e,t)}registerValidators(){}async cloneSettings(e){let t=await this.settingsToRawRecord(e),r=JSON.stringify(t),i=JSON.parse(r);return await this.rawRecordToSettings(i)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let t=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let i=t[r]??"";this.currentSettingsWrapper.validationMessages[r]=i,this.currentSettingsWrapper.safeSettings[r]=i?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let t=this.createDefaultSettings();for(let[r,i]of Object.entries(e)){if(!this.isValidPropertyName(r)){be("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${r}`);continue}typeof i!=typeof this.defaultSettings[r]&&be("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:i}),t[r]=i}return t}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,t,r){this.currentSettingsWrapper.settings[e]=t,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:t}async settingsToRawRecord(e){let t={};for(let r of this.propertyNames)t[r]=e[r];return await this.onSavingRecord(t),this.getTransformer().transformObjectRecursively(t)}};var Nt=class extends Lt{static{o(this,"PluginSettingsManager")}createDefaultSettings(){return new Tt}};var Ke=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ae(n,e){n.createEl("strong",{cls:"markdown-rendered code"},t=>{t.createEl("code",{text:e})})}o(ae,"appendCodeBlock");var le=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function _t(n){let e=n.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(M.SettingComponentWrapper))return e;let t=Array.from(e.children),r=createDiv();ee(r,M.SettingComponentWrapper);for(let i of t)r.appendChild(i);return e.appendChild(r),r}o(_t,"ensureWrapped");var ei=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fn=class{static{o(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function ti(n){return gs(n)?n:n instanceof ei.AbstractTextComponent?new Fn(n):null}o(ti,"getTextBasedComponentValue");function gs(n){let e=n;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}o(gs,"isTextBasedComponent");var O=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mt=class{static{o(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let t=_t(e);this._validatorEl=t.createEl("input",{attr:{tabindex:-1}}),ee(this._validatorEl,M.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},ne=class{static{o(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function ni(n){return ms(n)?n:n instanceof O.ColorComponent?new ne(n.colorPickerEl):n instanceof O.DropdownComponent?new ne(n.selectEl):n instanceof O.ProgressBarComponent?new Mt(n.progressBar):n instanceof O.SearchComponent?new ne(n.inputEl):n instanceof O.SliderComponent?new ne(n.sliderEl):n instanceof O.TextAreaComponent?new ne(n.inputEl):n instanceof O.TextComponent?new ne(n.inputEl):n instanceof O.ToggleComponent?new Mt(n.toggleEl):null}o(ni,"getValidatorComponent");function ms(n){return!!n.validatorEl}o(ms,"isValidatorComponent");var ys=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ri(n){return n.validationMessage!==void 0}o(ri,"isValidationMessageHolder");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pn="PluginSettingsTab",$t=class extends le.PluginSettingTab{static{o(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,ee(this.containerEl,M.PluginSettingsTab),this.saveSettingsDebounced=(0,le.debounce)(at(()=>this.plugin.settingsManager.saveToFile(Pn)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new mt,this.asyncEvents=new z}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,t,r){let s={...{componentToPluginSettingsValueConverter:o(w=>w,"componentToPluginSettingsValueConverter"),onChanged:Z,pluginSettingsToComponentValueConverter:o(w=>w,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},a=ni(e)?.validatorEl,l=ti(e),c=this.pluginSettings[t],u=this.plugin.settingsManager.defaultSettings[t],f=s.pluginSettingsToComponentValueConverter(u);l?.setPlaceholderValue(f);let d,h=null,g=null;if(a){let w=_t(a);h=w.createDiv(),ee(h,M.Tooltip,M.TooltipValidator),g=h.createSpan();let E=h.createDiv();ee(E,M.TooltipArrow),h.hide(),w.appendChild(h)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(w,E)=>{t===w&&(d=E,A())}));let m=!1,v=!1;l&&s.shouldShowPlaceholderForDefaultValues&&B(c,u)?l.empty():e.setValue(s.pluginSettingsToComponentValueConverter(c));let p=!1,A=(0,le.debounce)(()=>{requestAnimationFrame(()=>{C()})},100);return e.onChange(async w=>{if(p){p=!1;return}m=!1;let E=this.pluginSettings[t],S,k=!0;if(v=!!l?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty,v)S=u;else{let j=s.componentToPluginSettingsValueConverter(w);ri(j)?(d=j.validationMessage,k=!1):S=j}k&&(d=await this.plugin.settingsManager.setProperty(t,S),l&&s.shouldShowPlaceholderForDefaultValues&&!l.isEmpty()&&B(S,u)&&(m=!0)),A(),k&&await s.onChanged(S,E),this.saveSettingsDebounced()}),a?.addEventListener("focus",()=>{A()}),a?.addEventListener("blur",()=>{A()}),a?.addEventListener("click",()=>{requestAnimationFrame(()=>{A()})}),d=this.plugin.settingsManager.settingsWrapper.validationMessages[t]??"",A(),e;function C(){a?.isActiveElement()||(m?(m=!1,l?.isEmpty()||(p=!0,l?.empty())):v&&(v=!1,l?.isEmpty()&&(p=!0,e.setValue(f)))),a&&(d===""&&(a.setCustomValidity(""),a.checkValidity(),d=a.validationMessage),a.setCustomValidity(d),s.shouldShowValidationMessage?(g&&(g.textContent=d),h?.toggle(!!d)):d&&(0,le.setTooltip)(a,d))}o(C,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),V(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(Pn)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,t){this.display(),await H()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,t,r){return this.asyncEvents.on(e,t,r)}async onSaveSettings(e,t,r){if(r===Pn){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[t,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",t,r)}};var Bt=class extends $t{static{o(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty(),new Ke.Setting(this.containerEl).setName("Ignore patterns").setDesc(createFragment(e=>{e.appendText("Patterns to ignore files and folders."),e.createEl("br"),e.appendText("Each pattern should be on a new line."),e.createEl("br"),e.appendText("Uses "),e.createEl("a",{href:"https://git-scm.com/docs/gitignore#_pattern_format",text:"gitignore"}),e.appendText(" syntax."),e.createEl("br"),e.appendText("You can also edit "),ae(e,Te),e.appendText(" file manually.")})).addTextArea(e=>{e.setPlaceholder(`foo/bar/*
!foo/bar/baz.md`),e.inputEl.addClass("ignore-patterns-control"),this.bind(e,"obsidianIgnoreContent")}),new Ke.Setting(this.containerEl).setName(createFragment(e=>{e.appendText("Include "),ae(e,Fe),e.appendText(" patterns.")})).setDesc(createFragment(e=>{e.appendText("Whether to include patterns from "),ae(e,Fe),e.appendText(" file.")})).addToggle(e=>{this.bind(e,"shouldIncludeGitIgnorePatterns")}),new Ke.Setting(this.containerEl).setName("Ignore excluded files").setDesc(createFragment(e=>{e.appendText("Whether to ignore files that are excluded by "),ae(e,"File links > Excluded files"),e.appendText(" setting.")})).addToggle(e=>{this.bind(e,"shouldIgnoreExcludedFiles")}).addButton(e=>{e.setButtonText("Go to settings"),e.onClick(()=>{let t=this.app.setting.openTabById("file"),r=window.i18next.t("interface.button-manage");Array.from(t.containerEl.querySelectorAll("button")).find(i=>i.textContent===r)?.click()})}),new Ke.Setting(this.containerEl).setName("Exclude mode").setDesc(createFragment(e=>{e.appendText("How to exclude files and folders."),e.createEl("br"),ae(e,"Full"),e.appendText(" - Exclude files and folders from the entire Obsidian app, including the Files Pane, Backlinks, Graph, etc."),e.createEl("br"),ae(e,"Files Pane"),e.appendText(" - Exclude files and folders from the Files Pane only.")})).addDropdown(e=>{e.addOption("Full","Full"),e.addOption("FilesPane","Files pane"),this.bind(e,"excludeMode")})}async hideAsync(){await super.hideAsync(),await this.plugin.processConfigChanges()}};var Vt=class extends At{static{o(this,"Plugin")}_updateProgressEl;hadConfigChanges=!1;ignorePatternsComponent;updateFileTreeAbortController=null;vaultLoadCalled=!1;get updateProgressEl(){if(!this._updateProgressEl)throw new Error("updateProgressEl is not set");return this._updateProgressEl}async onLoadSettings(e,t){await super.onLoadSettings(e,t),!t&&await this.ignorePatternsComponent?.readObsidianIgnore()}async processConfigChanges(){this.hadConfigChanges&&(this.hadConfigChanges=!1,await this.ignorePatternsComponent?.processConfigChanges())}async updateFileTree(){this.updateFileTreeAbortController&&this.updateFileTreeAbortController.abort(),this.updateFileTreeAbortController=new AbortController;let t=this.updateFileTreeAbortController.signal,r=createFragment(s=>{s.appendText("Advanced Exclude: Updating file tree..."),this._updateProgressEl=s.createEl("progress")}),i=new ce.Notice(r,0);try{await Promise.race([Promise.all([this.reloadFolder(He,t),Qt(2e3,t)])])}finally{i.hide(),this.updateFileTreeAbortController=null}}createSettingsManager(){return new Nt(this)}createSettingsTab(){return new Bt(this)}async onLayoutReady(){await super.onLayoutReady(),await Rr(this.app),this.registerEvent(this.app.vault.on("config-changed",r=>{r==="userIgnoreFilters"&&this.ignorePatternsComponent?.clearCachedExcludeRegExps()})),this.register(()=>{V(()=>this.updateFileTree())}),this.vaultLoadCalled||await this.updateFileTree();let e=this,t=this.getFileExplorerView();t&&je(this,or(t),{onCreate:o(r=>o(function(s){e.onCreate(r,this,s)},"onCreatePatched"),"onCreate")})}async onloadImpl(){await super.onloadImpl(),this.ignorePatternsComponent=new St(this),je(this,this.app.vault,{load:o(e=>()=>this.vaultLoad(e),"load")}),this.addChild(this.ignorePatternsComponent),this.app.vault.adapter instanceof ce.CapacitorAdapter?je(this,this.app.vault.adapter,{reconcileDeletion:o(e=>async(t,r,i)=>this.reconcileDeletion(e,t,r,i),"reconcileDeletion"),reconcileFileCreation:o(e=>this.generateReconcileWrapper(e,!1),"reconcileFileCreation"),reconcileFolderCreation:o(e=>this.generateReconcileWrapper(e,!0),"reconcileFolderCreation")}):this.app.vault.adapter instanceof ce.FileSystemAdapter&&je(this,this.app.vault.adapter,{reconcileDeletion:o(e=>async(t,r,i)=>this.reconcileDeletion(e,t,r,i),"reconcileDeletion"),reconcileFileCreation:o(e=>this.generateReconcileWrapper(e,!1),"reconcileFileCreation"),reconcileFolderCreation:o(e=>this.generateReconcileWrapper(e,!0),"reconcileFolderCreation")})}async onSaveSettings(e,t,r){await super.onSaveSettings(e,t,r),await this.ignorePatternsComponent?.reload(e.settings.obsidianIgnoreContent),this.hadConfigChanges=!0}addToFilesPane(e){let t=this.getFileExplorerView();if(!t||t.fileItems[e])return;let r=this.app.vault.getAbstractFileByPath(e);r&&t.onCreate(r)}deleteFromFilesPane(e){let t=this.getFileExplorerView();if(!t||!t.fileItems[e])return;let r=this.app.vault.getAbstractFileByPath(e);r&&t.onDelete(r)}generateReconcileWrapper(e,t){return async(r,...i)=>{let s=!1;if(await this.ignorePatternsComponent?.isIgnored(r,t)){if(this.settings.excludeMode==="Full")return;s=!0}await e.call(this.app.vault.adapter,r,...i),s&&this.deleteFromFilesPane(r)}}getFileExplorerView(){return this.app.workspace.getLeavesOfType("file-explorer")[0]?.view}isDotFile(e){return tn(e).startsWith(".")}onCreate(e,t,r){if(this.settings.excludeMode!=="FilesPane"){e.call(t,r);return}V(async()=>{await this.ignorePatternsComponent?.isIgnored(r.path,dr(r))||e.call(t,r)})}async reconcileDeletion(e,t,r,i){await e.call(this.app.vault.adapter,t,r,i),this.app.workspace.layoutReady&&await this.ignorePatternsComponent?.handleDeletedOrDotFile(t)}async reloadChildPath(e,t,r,i){if(this.consoleDebug(`Reloading file: ${e}`),this.isDotFile(e))return;t.delete(e);let s=this.app.vault.adapter,a=await this.ignorePatternsComponent?.isIgnored(e,i);if(a&&this.settings.excludeMode==="Full"){await s.reconcileDeletion(e,e);return}s instanceof ce.FileSystemAdapter?await s.reconcileFileInternal(e,e):await s.reconcileFile(e,e),r.add(e),a?this.deleteFromFilesPane(e):this.settings.excludeMode==="FilesPane"&&this.addToFilesPane(e)}async reloadFolder(e,t){if(t.aborted)return;this.consoleDebug(`Reloading folder: ${e}`),e!==He&&this.updateProgressEl.max++;let r=this.app.vault.getFolderByPath(e);if(!r){this.updateProgressEl.value++;return}let i=this.app.vault.adapter;e===He&&await i.reconcileFolderCreation(e,e);let s=await i.list(e);this.updateProgressEl.max+=s.files.length+s.folders.length;let a=new Set,l=new Set(r.children.map(u=>u.path)),c=s.files.map(u=>({childPath:u,isFolder:!1})).concat(s.folders.map(u=>({childPath:u,isFolder:!0})));for(let u of c)try{if(t.aborted)return;await this.reloadChildPath(u.childPath,l,a,u.isFolder)}catch(f){console.error(`Failed reloading file: ${u.childPath}`,f)}finally{this.updateProgressEl.value++}this.updateProgressEl.max+=l.size;for(let u of l){if(t.aborted)return;this.consoleDebug(`Cleaning orphan file: ${u}`),this.updateProgressEl.value++;try{await i.reconcileDeletion(u,u)}catch(f){console.error(`Failed cleaning orphan file ${u}`,f)}}for(let u of s.folders){if(t.aborted)return;if(a.has(u))try{await this.reloadFolder(u,t)}catch(f){console.error(`Failed reloading folder ${u}`,f)}}this.updateProgressEl.value++}async vaultLoad(e){this.vaultLoadCalled=!0,await e.call(this.app.vault)}};var As=Vt;
